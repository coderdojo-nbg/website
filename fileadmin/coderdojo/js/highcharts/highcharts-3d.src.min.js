!function(a){"object"==typeof module&&module.exports?module.exports=a:a(Highcharts)}(function(a){function b(a,b,c){var d,e=b.options.chart.options3d,f=!1,g=b.scale3d||1;c?(f=b.inverted,d={x:b.plotWidth/2,y:b.plotHeight/2,z:e.depth/2,vd:m(e.depth,1)*m(e.viewDistance,0)}):d={x:b.plotLeft+b.plotWidth/2,y:b.plotTop+b.plotHeight/2,z:e.depth/2,vd:m(e.depth,1)*m(e.viewDistance,0)};var h,j,k,l,n,o,s=[],t=d.x,u=d.y,v=d.z,w=d.vd,x=p*(f?e.beta:-e.beta),y=p*(f?-e.alpha:e.alpha),z=q(x),A=r(x),B=q(y),C=r(y);return i(a,function(a){h=(f?a.y:a.x)-t,j=(f?a.x:a.y)-u,k=(a.z||0)-v,l=A*h-z*k,n=-z*B*h+C*j-A*B*k,o=z*C*h+B*j+A*C*k,w>0&&w<Number.POSITIVE_INFINITY&&(l*=w/(o+v+w),n*=w/(o+v+w)),l=l*g+t,n=n*g+u,o=o*g+v,s.push({x:f?n:l,y:f?l:n,z:o})}),s}function c(a){return void 0!==a&&null!==a}function d(a){var b,c,d=0;for(b=0;b<a.length;b++)c=(b+1)%a.length,d+=a[b].x*a[c].y-a[c].x*a[b].y;return d/2}function e(a){var b,c=0;for(b=0;b<a.length;b++)c+=a[b].z;return a.length?c/a.length:0}function f(a,b,c,d,e,g,h,i){var j=[];if(g>e&&g-e>o/2+1e-4)j=j.concat(f(a,b,c,d,e,e+o/2,h,i)),j=j.concat(f(a,b,c,d,e+o/2,g,h,i));else if(g<e&&e-g>o/2+1e-4)j=j.concat(f(a,b,c,d,e,e-o/2,h,i)),j=j.concat(f(a,b,c,d,e-o/2,g,h,i));else{var k=g-e;j=["C",a+c*r(e)-c*t*k*q(e)+h,b+d*q(e)+d*t*k*r(e)+i,a+c*r(g)+c*t*k*q(g)+h,b+d*q(g)-d*t*k*r(g)+i,a+c*r(g)+h,b+d*q(g)+i]}return j}function g(b){if(this.chart.is3d()){var d=this.chart.options.plotOptions.column.grouping;void 0===d||d||void 0===this.group.zIndex||this.zIndexSet||(this.group.attr({zIndex:10*this.group.zIndex}),this.zIndexSet=!0);var e=this.options,f=this.options.states;this.borderWidth=e.borderWidth=c(e.edgeWidth)?e.edgeWidth:1,a.each(this.data,function(b){if(null!==b.y){var c=b.pointAttr;this.borderColor=a.pick(e.edgeColor,c[""].fill),c[""].stroke=this.borderColor,c.hover.stroke=a.pick(f.hover.edgeColor,this.borderColor),c.select.stroke=a.pick(f.select.edgeColor,this.borderColor)}})}b.apply(this,[].slice.call(arguments,1))}var h=a.animObject,i=a.each,j=a.extend,k=a.inArray,l=a.merge,m=a.pick,n=a.wrap,o=Math.PI,p=o/180,q=Math.sin,r=Math.cos,s=Math.round;a.perspective=b;var t=4*(Math.sqrt(2)-1)/3/(o/2);a.SVGRenderer.prototype.toLinePath=function(b,c){var d=[];return a.each(b,function(a){d.push("L",a.x,a.y)}),b.length&&(d[0]="M",c&&d.push("Z")),d},a.SVGRenderer.prototype.cuboid=function(b){var d=this.g(),e=this.cuboidPath(b);return d.front=this.path(e[0]).attr({zIndex:e[3],"stroke-linejoin":"round"}).add(d),d.top=this.path(e[1]).attr({zIndex:e[4],"stroke-linejoin":"round"}).add(d),d.side=this.path(e[2]).attr({zIndex:e[5],"stroke-linejoin":"round"}).add(d),d.fillSetter=function(b){var c=b,d=a.Color(b).brighten(.1).get(),e=a.Color(b).brighten(-.1).get();return this.front.attr({fill:c}),this.top.attr({fill:d}),this.side.attr({fill:e}),this.color=b,this},d.opacitySetter=function(a){return this.front.attr({opacity:a}),this.top.attr({opacity:a}),this.side.attr({opacity:a}),this},d.attr=function(b){if(!b.shapeArgs&&!c(b.x))return a.SVGElement.prototype.attr.call(this,b);var d=b.shapeArgs||b,e=this.renderer.cuboidPath(d);return this.front.attr({d:e[0],zIndex:e[3]}),this.top.attr({d:e[1],zIndex:e[4]}),this.side.attr({d:e[2],zIndex:e[5]}),this},d.animate=function(b,d,e){if(c(b.x)&&c(b.y)){var f=this.renderer.cuboidPath(b);this.front.attr({zIndex:f[3]}).animate({d:f[0]},d,e),this.top.attr({zIndex:f[4]}).animate({d:f[1]},d,e),this.side.attr({zIndex:f[5]}).animate({d:f[2]},d,e),this.attr({zIndex:-f[6]})}else b.opacity?(this.front.animate(b,d,e),this.top.animate(b,d,e),this.side.animate(b,d,e)):a.SVGElement.prototype.animate.call(this,b,d,e);return this},d.destroy=function(){return this.front.destroy(),this.top.destroy(),this.side.destroy(),null},d.attr({zIndex:-e[6]}),d},a.SVGRenderer.prototype.cuboidPath=function(c){function f(a){return o[a]}var g=c.x,h=c.y,i=c.z,j=c.height,k=c.width,l=c.depth,m=a.charts[this.chartIndex],n=a.map,o=[{x:g,y:h,z:i},{x:g+k,y:h,z:i},{x:g+k,y:h+j,z:i},{x:g,y:h+j,z:i},{x:g,y:h+j,z:i+l},{x:g+k,y:h+j,z:i+l},{x:g+k,y:h,z:i+l},{x:g,y:h,z:i+l}];o=b(o,m,c.insidePlotArea);var p=function(a,b){var c=[];return a=n(a,f),b=n(b,f),d(a)<0?c=a:d(b)<0&&(c=b),c},q=[3,2,1,0],r=[7,6,5,4],s=p(q,r),t=[1,6,7,0],u=[4,5,2,3],v=p(t,u),w=[1,2,5,6],x=[0,7,4,3],y=p(w,x);return[this.toLinePath(s,!0),this.toLinePath(v,!0),this.toLinePath(y,!0),e(s),e(v),e(y),9e9*e(n(u,f))]},a.SVGRenderer.prototype.arc3d=function(b){function c(a){var b=!1,c={};for(var d in a)k(d,f)!==-1&&(c[d]=a[d],delete a[d],b=!0);return!!b&&c}var d=this.g(),e=d.renderer,f=["x","y","r","innerR","start","end"];return b=l(b),b.alpha*=p,b.beta*=p,d.top=e.path(),d.side1=e.path(),d.side2=e.path(),d.inn=e.path(),d.out=e.path(),d.onAdd=function(){var a=d.parentGroup;d.top.add(d),d.out.add(a),d.inn.add(a),d.side1.add(a),d.side2.add(a)},d.setPaths=function(a){var b=d.renderer.arc3dPath(a),c=100*b.zTop;d.attribs=a,d.top.attr({d:b.top,zIndex:b.zTop}),d.inn.attr({d:b.inn,zIndex:b.zInn}),d.out.attr({d:b.out,zIndex:b.zOut}),d.side1.attr({d:b.side1,zIndex:b.zSide1}),d.side2.attr({d:b.side2,zIndex:b.zSide2}),d.zIndex=c,d.attr({zIndex:c}),a.center&&(d.top.setRadialReference(a.center),delete a.center)},d.setPaths(b),d.fillSetter=function(b){var c=a.Color(b).brighten(-.1).get();return this.fill=b,this.side1.attr({fill:c}),this.side2.attr({fill:c}),this.inn.attr({fill:c}),this.out.attr({fill:c}),this.top.attr({fill:b}),this},i(["opacity","translateX","translateY","visibility"],function(a){d[a+"Setter"]=function(a,b){d[b]=a,i(["out","inn","side1","side2","top"],function(c){d[c].attr(b,a)})}}),n(d,"attr",function(a,b,e){var f;return"object"==typeof b&&(f=c(b),f&&(j(d.attribs,f),d.setPaths(d.attribs))),a.call(this,b,e)}),n(d,"animate",function(a,b,d,e){var f,g,i=this.attribs;return delete b.center,delete b.z,delete b.depth,delete b.alpha,delete b.beta,d=h(m(d,this.renderer.globalAnimation)),d.duration&&(b=l(b),f=c(b),f&&(g=f,d.step=function(a,b){function c(a){return i[a]+(m(g[a],i[a])-i[a])*b.pos}b.elem.setPaths(l(i,{x:c("x"),y:c("y"),r:c("r"),innerR:c("innerR"),start:c("start"),end:c("end")}))})),a.call(this,b,d,e)}),d.destroy=function(){this.top.destroy(),this.out.destroy(),this.inn.destroy(),this.side1.destroy(),this.side2.destroy(),a.SVGElement.prototype.destroy.call(this)},d.hide=function(){this.top.hide(),this.out.hide(),this.inn.hide(),this.side1.hide(),this.side2.hide()},d.show=function(){this.top.show(),this.out.show(),this.inn.show(),this.side1.show(),this.side2.show()},d},a.SVGRenderer.prototype.arc3dPath=function(a){function b(a){return a%=2*o,a>o&&(a=2*o-a),a}var c=a.x,d=a.y,e=a.start,g=a.end-1e-5,h=a.r,i=a.innerR,j=a.depth,k=a.alpha,l=a.beta,m=r(e),n=q(e),p=r(g),s=q(g),t=h*r(l),u=h*r(k),v=i*r(l),w=i*r(k),x=j*q(l),y=j*q(k),z=["M",c+t*m,d+u*n];z=z.concat(f(c,d,t,u,e,g,0,0)),z=z.concat(["L",c+v*p,d+w*s]),z=z.concat(f(c,d,v,w,g,e,0,0)),z=z.concat(["Z"]);var A=l>0?o/2:0,B=k>0?0:o/2,C=e>-A?e:g>-A?-A:e,D=g<o-B?g:e<o-B?o-B:g,E=2*o-B,F=["M",c+t*r(C),d+u*q(C)];F=F.concat(f(c,d,t,u,C,D,0,0)),g>E&&e<E?(F=F.concat(["L",c+t*r(D)+x,d+u*q(D)+y]),F=F.concat(f(c,d,t,u,D,E,x,y)),F=F.concat(["L",c+t*r(E),d+u*q(E)]),F=F.concat(f(c,d,t,u,E,g,0,0)),F=F.concat(["L",c+t*r(g)+x,d+u*q(g)+y]),F=F.concat(f(c,d,t,u,g,E,x,y)),F=F.concat(["L",c+t*r(E),d+u*q(E)]),F=F.concat(f(c,d,t,u,E,D,0,0))):g>o-B&&e<o-B&&(F=F.concat(["L",c+t*r(D)+x,d+u*q(D)+y]),F=F.concat(f(c,d,t,u,D,g,x,y)),F=F.concat(["L",c+t*r(g),d+u*q(g)]),F=F.concat(f(c,d,t,u,g,D,0,0))),F=F.concat(["L",c+t*r(D)+x,d+u*q(D)+y]),F=F.concat(f(c,d,t,u,D,C,x,y)),F=F.concat(["Z"]);var G=["M",c+v*m,d+w*n];G=G.concat(f(c,d,v,w,e,g,0,0)),G=G.concat(["L",c+v*r(g)+x,d+w*q(g)+y]),G=G.concat(f(c,d,v,w,g,e,x,y)),G=G.concat(["Z"]);var H=["M",c+t*m,d+u*n,"L",c+t*m+x,d+u*n+y,"L",c+v*m+x,d+w*n+y,"L",c+v*m,d+w*n,"Z"],I=["M",c+t*p,d+u*s,"L",c+t*p+x,d+u*s+y,"L",c+v*p+x,d+w*s+y,"L",c+v*p,d+w*s,"Z"],J=Math.atan2(y,-x),K=Math.abs(g+J),L=Math.abs(e+J),M=Math.abs((e+g)/2+J);K=b(K),L=b(L),M=b(M);var N=1e5,O=M*N,P=L*N,Q=K*N;return{top:z,zTop:o*N+1,out:F,zOut:Math.max(O,P,Q),inn:G,zInn:Math.max(O,P,Q),side1:H,zSide1:.99*Q,side2:I,zSide2:.99*P}},a.Chart.prototype.is3d=function(){return this.options.chart.options3d&&this.options.chart.options3d.enabled},a.wrap(a.Chart.prototype,"getMargins",function(a){var c,d=this,e=d.options.chart.options3d,f={minX:Number.MAX_VALUE,maxX:-Number.MAX_VALUE,minY:Number.MAX_VALUE,maxY:-Number.MAX_VALUE},g=d.plotLeft,h=d.plotWidth+g,j=d.plotTop,k=d.plotHeight+j,l=g+d.plotWidth/2,m=j+d.plotHeight/2,n=1,o=[];if(a.apply(this,[].slice.call(arguments,1)),this.is3d()&&e.fitToPlot===!0){for(d.scale3d=1,o=[{x:g,y:j,z:0},{x:g,y:j,z:e.depth}],c=0;c<2;c++)o.push({x:h,y:o[c].y,z:o[c].z});for(c=0;c<4;c++)o.push({x:o[c].x,y:k,z:o[c].z});o=b(o,d,!1),i(o,function(a){f.minX=Math.min(f.minX,a.x),f.maxX=Math.max(f.maxX,a.x),f.minY=Math.min(f.minY,a.y),f.maxY=Math.max(f.maxY,a.y)}),g>f.minX&&(n=Math.min(n,1-Math.abs((g+l)/(f.minX+l))%1)),h<f.maxX&&(n=Math.min(n,(h-l)/(f.maxX-l))),j>f.minY&&(n=f.minY<0?Math.min(n,(j+m)/(-f.minY+j+m)):Math.min(n,1-(j+m)/(f.minY+m)%1)),k<f.maxY&&(n=Math.min(n,Math.abs((k-m)/(f.maxY-m)))),d.scale3d=n}}),a.wrap(a.Chart.prototype,"isInsidePlot",function(a){return this.is3d()||a.apply(this,[].slice.call(arguments,1))});var u=a.getOptions();u.chart.options3d={enabled:!1,alpha:0,beta:0,depth:100,fitToPlot:!0,viewDistance:25,frame:{bottom:{size:1,color:"rgba(255,255,255,0)"},side:{size:1,color:"rgba(255,255,255,0)"},back:{size:1,color:"rgba(255,255,255,0)"}}},a.wrap(a.Chart.prototype,"init",function(b){var c,d,e=[].slice.call(arguments,1);e[0].chart&&e[0].chart.options3d&&e[0].chart.options3d.enabled&&(e[0].chart.options3d.alpha=(e[0].chart.options3d.alpha||0)%360,e[0].chart.options3d.beta=(e[0].chart.options3d.beta||0)%360,c=e[0].plotOptions||{},d=c.pie||{},d.borderColor=a.pick(d.borderColor,void 0)),b.apply(this,e)}),a.wrap(a.Chart.prototype,"setChartSize",function(a){if(a.apply(this,[].slice.call(arguments,1)),this.is3d()){var b=this.inverted,c=this.clipBox,d=this.margin,e=b?"y":"x",f=b?"x":"y",g=b?"height":"width",h=b?"width":"height";c[e]=-(d[3]||0),c[f]=-(d[0]||0),c[g]=this.chartWidth+(d[3]||0)+(d[1]||0),c[h]=this.chartHeight+(d[0]||0)+(d[2]||0)}}),a.wrap(a.Chart.prototype,"redraw",function(a){this.is3d()&&(this.isDirtyBox=!0),a.apply(this,[].slice.call(arguments,1))}),a.wrap(a.Chart.prototype,"renderSeries",function(a){var b,c=this.series.length;if(this.is3d())for(;c--;)b=this.series[c],b.translate(),b.render();else a.call(this)}),a.Chart.prototype.retrieveStacks=function(b){var c,d=this.series,e={},f=1;return a.each(this.series,function(a){c=m(a.options.stack,b?0:d.length-1-a.index),e[c]?e[c].series.push(a):(e[c]={series:[a],position:f},f++)}),e.totalStacks=f+1,e},a.wrap(a.Axis.prototype,"setOptions",function(b,c){var d;b.call(this,c),this.chart.is3d()&&(d=this.options,d.tickWidth=a.pick(d.tickWidth,0),d.gridLineWidth=a.pick(d.gridLineWidth,1))}),a.wrap(a.Axis.prototype,"render",function(a){if(a.apply(this,[].slice.call(arguments,1)),this.chart.is3d()){var b=this.chart,c=b.renderer,d=b.options.chart.options3d,e=d.frame,f=e.bottom,g=e.back,h=e.side,i=d.depth,j=this.height,k=this.width,l=this.left,m=this.top;if(!this.isZAxis)if(this.horiz){var n={x:l,y:m+(b.xAxis[0].opposite?-f.size:j),z:0,width:k,height:f.size,depth:i,insidePlotArea:!1};this.bottomFrame?this.bottomFrame.animate(n):this.bottomFrame=c.cuboid(n).attr({fill:f.color,zIndex:b.yAxis[0].reversed&&d.alpha>0?4:-1}).css({stroke:f.color}).add()}else{var o={x:l+(b.yAxis[0].opposite?0:-h.size),y:m+(b.xAxis[0].opposite?-f.size:0),z:i,width:k+h.size,height:j+f.size,depth:g.size,insidePlotArea:!1};this.backFrame?this.backFrame.animate(o):this.backFrame=c.cuboid(o).attr({fill:g.color,zIndex:-3}).css({stroke:g.color}).add();var p={x:l+(b.yAxis[0].opposite?k:-h.size),y:m+(b.xAxis[0].opposite?-f.size:0),z:0,width:h.size,height:j+f.size,depth:i,insidePlotArea:!1};this.sideFrame?this.sideFrame.animate(p):this.sideFrame=c.cuboid(p).attr({fill:h.color,zIndex:-2}).css({stroke:h.color}).add()}}}),a.wrap(a.Axis.prototype,"getPlotLinePath",function(a){var c=a.apply(this,[].slice.call(arguments,1));if(!this.chart.is3d())return c;if(null===c)return c;var d=this.chart,e=d.options.chart.options3d,f=this.isZAxis?d.plotWidth:e.depth,g=this.opposite;this.horiz&&(g=!g);var h=[this.swapZ({x:c[1],y:c[2],z:g?f:0}),this.swapZ({x:c[1],y:c[2],z:f}),this.swapZ({x:c[4],y:c[5],z:f}),this.swapZ({x:c[4],y:c[5],z:g?0:f})];return h=b(h,this.chart,!1),c=this.chart.renderer.toLinePath(h,!1)}),a.wrap(a.Axis.prototype,"getLinePath",function(a){return this.chart.is3d()?[]:a.apply(this,[].slice.call(arguments,1))}),a.wrap(a.Axis.prototype,"getPlotBandPath",function(a){if(!this.chart.is3d())return a.apply(this,[].slice.call(arguments,1));var b=arguments,c=b[1],d=b[2],e=this.getPlotLinePath(d),f=this.getPlotLinePath(c);return f&&e?f.push("L",e[10],e[11],"L",e[7],e[8],"L",e[4],e[5],"L",e[1],e[2]):f=null,f}),a.wrap(a.Tick.prototype,"getMarkPath",function(a){var c=a.apply(this,[].slice.call(arguments,1));if(!this.axis.chart.is3d())return c;var d=[this.axis.swapZ({x:c[1],y:c[2],z:0}),this.axis.swapZ({x:c[4],y:c[5],z:0})];return d=b(d,this.axis.chart,!1),c=["M",d[0].x,d[0].y,"L",d[1].x,d[1].y]}),a.wrap(a.Tick.prototype,"getLabelPosition",function(a){var c=a.apply(this,[].slice.call(arguments,1));if(!this.axis.chart.is3d())return c;var d=b([this.axis.swapZ({x:c.x,y:c.y,z:0})],this.axis.chart,!1)[0];return d.x=d.x-(!this.axis.horiz&&this.axis.opposite?this.axis.transA:0),d.old=c,d}),a.wrap(a.Tick.prototype,"handleOverflow",function(a,b){return this.axis.chart.is3d()&&(b=b.old),a.call(this,b)}),a.wrap(a.Axis.prototype,"getTitlePosition",function(a){var c,d,e=this.chart.is3d();return e&&(d=this.axisTitleMargin,this.axisTitleMargin=0),c=a.apply(this,[].slice.call(arguments,1)),e&&(c=b([this.swapZ({x:c.x,y:c.y,z:0})],this.chart,!1)[0],c[this.horiz?"y":"x"]+=(this.horiz?1:-1)*(this.opposite?-1:1)*d,this.axisTitleMargin=d),c}),a.wrap(a.Axis.prototype,"drawCrosshair",function(a){var b=arguments;this.chart.is3d()&&b[2]&&(b[2]={plotX:b[2].plotXold||b[2].plotX,plotY:b[2].plotYold||b[2].plotY}),a.apply(this,[].slice.call(b,1))}),a.Axis.prototype.swapZ=function(a,b){if(this.isZAxis){var c=b?0:this.chart.plotLeft,d=this.chart;return{x:c+(d.yAxis[0].opposite?a.z:d.xAxis[0].width-a.z),y:a.y,z:a.x-c}}return a};var v=a.ZAxis=function(){this.isZAxis=!0,this.init.apply(this,arguments)};a.extend(v.prototype,a.Axis.prototype),a.extend(v.prototype,{setOptions:function(b){b=a.merge({offset:0,lineWidth:0},b),a.Axis.prototype.setOptions.call(this,b),this.coll="zAxis"},setAxisSize:function(){a.Axis.prototype.setAxisSize.call(this),this.width=this.len=this.chart.options.chart.options3d.depth,this.right=this.chart.chartWidth-this.width-this.left},getSeriesExtremes:function(){var b=this,c=b.chart;b.hasVisibleSeries=!1,b.dataMin=b.dataMax=b.ignoreMinPadding=b.ignoreMaxPadding=null,b.buildStacks&&b.buildStacks(),a.each(b.series,function(a){if(a.visible||!c.options.chart.ignoreHiddenSeries){var d,e=a.options,f=e.threshold;b.hasVisibleSeries=!0,b.isLog&&f<=0&&(f=null),d=a.zData,d.length&&(b.dataMin=Math.min(m(b.dataMin,d[0]),Math.min.apply(null,d)),b.dataMax=Math.max(m(b.dataMax,d[0]),Math.max.apply(null,d)))}})}}),a.wrap(a.Chart.prototype,"getAxes",function(b){var c=this,d=this.options,e=d.zAxis=a.splat(d.zAxis||{});b.call(this),c.is3d()&&(this.zAxis=[],a.each(e,function(a,b){a.index=b,a.isX=!0;var d=new v(c,a);d.setScale()}))}),a.wrap(a.seriesTypes.column.prototype,"translate",function(c){if(c.apply(this,[].slice.call(arguments,1)),this.chart.is3d()){var d=this,e=d.chart,f=d.options,g=f.depth||25,h=f.stacking?f.stack||0:d._i,i=h*(g+(f.groupZPadding||1));f.grouping!==!1&&(i=0),i+=f.groupZPadding||1,a.each(d.data,function(a){if(null!==a.y){var c=a.shapeArgs,d=a.tooltipPos;a.shapeType="cuboid",c.z=i,c.depth=g,c.insidePlotArea=!0,d=b([{x:d[0],y:d[1],z:i}],e,!0)[0],a.tooltipPos=[d.x,d.y]}}),d.z=i}}),a.wrap(a.seriesTypes.column.prototype,"animate",function(b){if(this.chart.is3d()){var c=arguments,d=c[1],e=this.yAxis,f=this,g=this.yAxis.reversed;a.svg&&(d?a.each(f.data,function(a){null!==a.y&&(a.height=a.shapeArgs.height,a.shapey=a.shapeArgs.y,a.shapeArgs.height=1,g||(a.stackY?a.shapeArgs.y=a.plotY+e.translate(a.stackY):a.shapeArgs.y=a.plotY+(a.negative?-a.height:a.height)))}):(a.each(f.data,function(a){null!==a.y&&(a.shapeArgs.height=a.height,a.shapeArgs.y=a.shapey,a.graphic&&a.graphic.animate(a.shapeArgs,f.options.animation))}),this.drawDataLabels(),f.animate=null))}else b.apply(this,[].slice.call(arguments,1))}),a.wrap(a.seriesTypes.column.prototype,"init",function(a){if(a.apply(this,[].slice.call(arguments,1)),this.chart.is3d()){var b=this.options,c=b.grouping,d=b.stacking,e=m(this.yAxis.options.reversedStacks,!0),f=0;if(void 0===c||c){var g,h=this.chart.retrieveStacks(d),i=b.stack||0;for(g=0;g<h[i].series.length&&h[i].series[g]!==this;g++);f=10*(h.totalStacks-h[i].position)+(e?g:-g),this.xAxis.reversed||(f=10*h.totalStacks-f)}b.zIndex=f}}),a.wrap(a.Series.prototype,"alignDataLabel",function(a){if(this.chart.is3d()&&("column"===this.type||"columnrange"===this.type)){var c=this,d=c.chart,e=arguments,f=e[4],g={x:f.x,y:f.y,z:c.z};g=b([g],d,!0)[0],f.x=g.x,f.y=g.y}a.apply(this,[].slice.call(arguments,1))}),a.seriesTypes.columnrange&&a.wrap(a.seriesTypes.columnrange.prototype,"drawPoints",g),a.wrap(a.seriesTypes.column.prototype,"drawPoints",g),a.wrap(a.seriesTypes.pie.prototype,"translate",function(a){if(a.apply(this,[].slice.call(arguments,1)),this.chart.is3d()){var b=this,c=b.chart,d=c.options,e=b.options,f=e.depth||0,g=d.chart.options3d,h=g.alpha,j=g.beta,k=e.stacking?(e.stack||0)*f:b._i*f;k+=f/2,e.grouping!==!1&&(k=0),i(b.data,function(a){var c,d=a.shapeArgs;a.shapeType="arc3d",d.z=k,d.depth=.75*f,d.alpha=h,d.beta=j,d.center=b.center,c=(d.end+d.start)/2,a.slicedTranslation={translateX:s(r(c)*e.slicedOffset*r(h*p)),translateY:s(q(c)*e.slicedOffset*r(h*p))}})}}),a.wrap(a.seriesTypes.pie.prototype.pointClass.prototype,"haloPath",function(a){var b=arguments;return this.series.chart.is3d()?[]:a.call(this,b[1])}),a.wrap(a.seriesTypes.pie.prototype,"drawPoints",function(b){var c=this.options,d=c.states;this.chart.is3d()&&(this.borderWidth=c.borderWidth=c.edgeWidth||1,this.borderColor=c.edgeColor=a.pick(c.edgeColor,c.borderColor,void 0),d.hover.borderColor=a.pick(d.hover.edgeColor,this.borderColor),d.hover.borderWidth=a.pick(d.hover.edgeWidth,this.borderWidth),d.select.borderColor=a.pick(d.select.edgeColor,this.borderColor),d.select.borderWidth=a.pick(d.select.edgeWidth,this.borderWidth),i(this.data,function(a){var b=a.pointAttr;b[""].stroke=a.series.borderColor||a.color,b[""]["stroke-width"]=a.series.borderWidth,b.hover.stroke=d.hover.borderColor,b.hover["stroke-width"]=d.hover.borderWidth,b.select.stroke=d.select.borderColor,b.select["stroke-width"]=d.select.borderWidth})),b.apply(this,[].slice.call(arguments,1)),this.chart.is3d()&&i(this.points,function(a){var b=a.graphic;b&&b[a.y&&a.visible?"show":"hide"]()})}),a.wrap(a.seriesTypes.pie.prototype,"drawDataLabels",function(a){if(this.chart.is3d()){var b=this,c=b.chart,d=c.options.chart.options3d;i(b.data,function(a){var b=a.shapeArgs,c=b.r,e=(b.alpha||d.alpha)*p,f=(b.beta||d.beta)*p,g=(b.start+b.end)/2,h=a.labelPos,j=[0,2,4],k=-c*(1-r(e))*q(g),l=c*(r(f)-1)*r(g);i(j,function(a){h[a]+=l,h[a+1]+=k})})}a.apply(this,[].slice.call(arguments,1))}),a.wrap(a.seriesTypes.pie.prototype,"addPoint",function(a){a.apply(this,[].slice.call(arguments,1)),this.chart.is3d()&&this.update(this.userOptions,!0)}),a.wrap(a.seriesTypes.pie.prototype,"animate",function(b){if(this.chart.is3d()){var c,d=arguments,e=d[1],f=this.options.animation,g=this.center,h=this.group,i=this.markerGroup;a.svg&&(f===!0&&(f={}),e?(h.oldtranslateX=h.translateX,h.oldtranslateY=h.translateY,c={translateX:g[0],translateY:g[1],scaleX:.001,scaleY:.001},h.attr(c),i&&(i.attrSetters=h.attrSetters,i.attr(c))):(c={translateX:h.oldtranslateX,translateY:h.oldtranslateY,scaleX:1,scaleY:1},h.animate(c,f),i&&i.animate(c,f),this.animate=null))}else b.apply(this,[].slice.call(arguments,1))}),a.wrap(a.seriesTypes.scatter.prototype,"translate",function(c){if(c.apply(this,[].slice.call(arguments,1)),this.chart.is3d()){var d,e,f,g,h,i=this,j=i.chart,k=a.pick(i.zAxis,j.options.zAxis[0]),l=[];for(h=0;h<i.data.length;h++)d=i.data[h],g=k.isLog&&k.val2lin?k.val2lin(d.z):d.z,d.plotZ=k.translate(g),d.isInside=!!d.isInside&&(g>=k.min&&g<=k.max),l.push({x:d.plotX,y:d.plotY,z:d.plotZ});for(e=b(l,j,!0),h=0;h<i.data.length;h++)d=i.data[h],f=e[h],d.plotXold=d.plotX,d.plotYold=d.plotY,d.plotX=f.x,d.plotY=f.y,d.plotZ=f.z}}),a.wrap(a.seriesTypes.scatter.prototype,"init",function(a,b,c){b.is3d()&&(this.axisTypes=["xAxis","yAxis","zAxis"],this.pointArrayMap=["x","y","z"],this.parallelArrays=["x","y","z"],this.directTouch=!0);var d=a.apply(this,[b,c]);if(this.chart.is3d()){var e="x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>z: <b>{point.z}</b><br/>";this.userOptions.tooltip?this.tooltipOptions.pointFormat=this.userOptions.tooltip.pointFormat||e:this.tooltipOptions.pointFormat=e}return d}),a.VMLRenderer&&(a.setOptions({animate:!1}),a.VMLRenderer.prototype.cuboid=a.SVGRenderer.prototype.cuboid,a.VMLRenderer.prototype.cuboidPath=a.SVGRenderer.prototype.cuboidPath,a.VMLRenderer.prototype.toLinePath=a.SVGRenderer.prototype.toLinePath,a.VMLRenderer.prototype.createElement3D=a.SVGRenderer.prototype.createElement3D,a.VMLRenderer.prototype.arc3d=function(b){var c=a.SVGRenderer.prototype.arc3d.call(this,b);return c.css({zIndex:c.zIndex}),c},a.VMLRenderer.prototype.arc3dPath=a.SVGRenderer.prototype.arc3dPath,a.wrap(a.Axis.prototype,"render",function(a){a.apply(this,[].slice.call(arguments,1)),this.sideFrame&&(this.sideFrame.css({zIndex:0}),this.sideFrame.front.attr({fill:this.sideFrame.color})),this.bottomFrame&&(this.bottomFrame.css({zIndex:1}),this.bottomFrame.front.attr({fill:this.bottomFrame.color})),this.backFrame&&(this.backFrame.css({zIndex:0}),this.backFrame.front.attr({fill:this.backFrame.color}))}))});
//# sourceMappingURL=highcharts-3d.src.min.js.map